<?xml version="1.0"?>
<!DOCTYPE bindings PUBLIC "-//MOZILLA//DTD XBL V1.0//EN" "http://www.mozilla.org/xbl">

<bindings
    xmlns="http://www.mozilla.org/xbl"
    xmlns:xbl="http://www.mozilla.org/xbl"
    xmlns:html="http://www.w3.org/1999/xhtml"
    xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">

  <binding id="baseTab"
           extends="chrome://global/content/bindings/richlistbox.xml#richlistitem">
    <content>
      <xul:label anonid="label" xbl:inherits="value=label"/>
    </content>
    <implementation>
      <property name="label">
        <getter>
          return this.getAttribute("label");
        </getter>
        <setter>
          this.setAttribute("label", val);
          return String(val);
        </setter>
      </property>
    </implementation>
  </binding>

  <binding id="singletonTab"
           extends="#baseTab">
  </binding>

  <binding id="conversationTab"
           extends="#baseTab">
    <implementation>
      <property name="panelId">
        <getter>
          return this.getAttribute("linkedpanel");
        </getter>
      </property>
      <property name="panel">
        <getter>
          try {
          return Unibrow.conversations.contentDocument.getElementById(this.panelId);
          } catch (e) {
            Cu.reportError(e);
            throw e;
          }
        </getter>
      </property>
      <property name="tab">
        <getter>
          return this.panel.parentNode.getRelatedElement(this.panel);
        </getter>
      </property>
    </implementation>
  </binding>

</bindings>